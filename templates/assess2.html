{% extends "base.html" %}

{% block title %}Quality Assessment{% endblock %}

{% block assess-menu-li-class %}active{% endblock %}

{% block header %}Assess assembly quality{% endblock %}

{% block extra_head %}
    <link rel="stylesheet" href="/static/blueimp-file-upload/css/jquery.fileupload-ui.css"/>
    <style type="text/css">
        .upload-form-table td {
            padding-right: 1em;
        }
        .file_label {
            margin-top: 5px;
        }
            /*#upload_contigs_btn{*/
            /*position: relative;*/
            /*top: 150px;*/
            /*width: 150px;*/
            /*padding: 10px;*/
            /*-webkit-border-radius: 5px;*/
            /*-moz-border-radius: 5px;*/
            /*border: 1px dashed #BBB;*/
            /*text-align: center;*/
            /*background-color: #DDD;*/
            /*cursor:pointer;*/
            /*}*/
    </style>

    {#    <script type="text/javascript">#}
    {#        function getFile(){#}
    {#            document.getElementById("upfile").click();#}
    {#        }#}
    {#        function sub(obj){#}
    {#            var file = obj.value;#}
    {#            var fileName = file.split("\\");#}
    {#            document.getElementById("yourBtn").innerHTML = fileName[fileName.length-1];#}
    {#            document.myForm.submit();#}
    {#            event.preventDefault();#}
    {#        }#}
    {#    </script>#}
    {##}
    {#    <script type="text/javascript" src="/static/droparea/droparea.js"></script>#}
    {#    <link type="text/css" href="/static/droparea/droparea.css"/>#}

    <link rel="stylesheet" href="http://blueimp.github.com/cdn/css/bootstrap.min.css">
    <!-- Generic page styles -->
    <link rel="stylesheet" href="http://blueimp.github.com/jQuery-File-Upload/css/style.css">
    <!-- Bootstrap styles for responsive website layout, supporting different screen sizes -->
    <link rel="stylesheet" href="http://blueimp.github.com/cdn/css/bootstrap-responsive.min.css">
    <!-- Bootstrap CSS fixes for IE6 -->
    <!--[if lt IE 7]><link rel="stylesheet" href="http://blueimp.github.com/cdn/css/bootstrap-ie6.min.css"><![endif]-->
    <!-- Bootstrap Image Gallery styles -->
    <link rel="stylesheet" href="http://blueimp.github.com/Bootstrap-Image-Gallery/css/bootstrap-image-gallery.min.css">
    <!-- CSS to style the file input field as button and adjust the Bootstrap progress bars -->
    <link rel="stylesheet" href="http://blueimp.github.com/jQuery-File-Upload/css/jquery.fileupload-ui.css">
    <!-- Shim to make HTML5 elements usable in older Internet Explorer versions -->
    <!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
{% endblock %}

{% block content %}
    {#    <form action="/assess/" method="POST" enctype="multipart/form-data">#}
    {#        <div id="upload_contigs_btn" onclick="getFile()">Choose file</div>#}
    {#        <!-- this is your file input tag, so i hide it!-->#}
    {#        <!-- i used the onchange event to fire the form submission-->#}
    {#        <div style='height: 0; width: 0; overflow:hidden;'>#}
    {#            <input id="upfile" type="file" value="upload" onchange="sub(this)"/>#}
    {#        </div>#}
    {#        <!-- here you can have file submit button or you can write a simple script to upload the file automatically-->#}
    {#        <!-- <input type="submit" value='submit' > -->#}
    {#    </form>#}

    <form id="fileupload" action="php/index.php" method="POST" enctype="multipart/form-data">
        <div class="row">
            <div class="span16 fileupload-buttonbar">
                <div class="progressbar fileupload-progressbar"><div style="width:0%;"></div></div>
            <span class="btn success fileinput-button">
                <span>Add files...</span>
                <input type="file" name="files[]" multiple>
            </span>
                <!-- Extra file input start /-->
            <span class="btn fileinput-button">
                <span>Other...</span>
                <input type="file" name="files2[]" multiple>
            </span>
                <!--/ Extra file input stop -->
                <button type="submit" class="btn primary start">Start upload</button>
                <button type="reset" class="btn info cancel">Cancel upload</button>
                <button type="button" class="btn danger delete">Delete selected</button>
                <input type="checkbox" class="toggle">
            </div>
        </div>
        <br>
        <div class="row">
            <div class="span16">
                <table class="zebra-striped"><tbody class="files"></tbody></table>
            </div>
        </div>
    </form>


    {#    <script>#}
    {#        $(function () {#}
    {#            $('#fileupload').fileupload({#}
    {#                dataType: 'json',#}
    {#                done: function (e, data) {#}
    {#                    $.each(data.result, function (index, file) {#}
    {#                        $('<p/>').text(file.name).appendTo(document.body);#}
    {#                    });#}
    {#                }#}
    {#            });#}
    {#        });#}
    {#    </script>#}

    <script src="/static/js/jquery.min.js"></script>
    <!-- The jQuery UI widget factory, can be omitted if jQuery UI is already included -->
    <script src="/static/js/jquery.ui.widget.js"></script>
    <!-- The Templates plugin is included to render the upload/download listings -->
    <script src="/static/js/tmpl.min.js"></script>
    <!-- The Load Image plugin is included for the preview images and image resizing functionality -->
    <script src="/static/js/load-image.min.js"></script>
    <!-- The Canvas to Blob plugin is included for image resizing functionality -->
    <script src="/static/js/canvas-to-blob.min.js"></script>
    <!-- Bootstrap JS and Bootstrap Image Gallery are not required, but included for the demo -->
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/bootstrap-image-gallery.min.js"></script>
    <!-- The Iframe Transport is required for browsers without support for XHR file uploads -->
    <script src="/static/js/jquery.iframe-transport.js"></script>
    <!-- The basic File Upload plugin -->
    <script src="/static/js/jquery.fileupload.js"></script>
    <!-- The File Upload file processing plugin -->
    <script src="/static/js/jquery.fileupload-fp.js"></script>
    <!-- The File Upload user interface plugin -->
    <script src="/static/js/jquery.fileupload-ui.js"></script>
    <!-- The localization script -->
    <script src="/static/js/locale.js"></script>
    <!-- The main application script -->
    <script src="/static/js/main.js"></script>
    <!-- The XDomainRequest Transport is included for cross-domain file deletion for IE8+ -->
    <!--[if gte IE 8]><script src="js/cors/jquery.xdr-transport.js"></script><![endif]-->

    {#    <script src="http://blueimp.github.com/JavaScript-Templates/tmpl.min.js"></script>#}
    {#    <!-- The Load Image plugin is included for the preview images and image resizing functionality -->#}
    {#    <script src="http://blueimp.github.com/JavaScript-Load-Image/load-image.min.js"></script>#}
    {#    <!-- The Canvas to Blob plugin is included for image resizing functionality -->#}
    {#    <script src="http://blueimp.github.com/JavaScript-Canvas-to-Blob/canvas-to-blob.min.js"></script>#}
    {#    <!-- Bootstrap JS and Bootstrap Image Gallery are not required, but included for the demo -->#}
    {#    <script src="http://blueimp.github.com/cdn/js/bootstrap.min.js"></script>#}
    {#    <script src="http://blueimp.github.com/Bootstrap-Image-Gallery/js/bootstrap-image-gallery.min.js"></script>#}
    {#    <script src="/static/blueimp-file-upload/js/vendor/jquery.ui.widget.js"></script>#}
    {#    <script src="/static/blueimp-file-upload/js/jquery.iframe-transport.js"></script>#}
    {#    <script src="/static/blueimp-file-upload/js/jquery.fileupload.js"></script>#}
    {#    <script src="/static/blueimp-file-upload/js/jquery.fileupload-ui.js"></script>#}
    {#    <script src="/static/blueimp-file-upload/js/jquery.fileupload-fp.js"></script>#}
    {#    <script src="/static/blueimp-file-upload/js/locale.js"></script>#}
    {#    <script src="/static/blueimp-file-upload/js/main.js"></script>#}

    {#    <form enctype="multipart/form-data" action="/assess/" method="POST">{% csrf_token %}#}
    {#        <table class='upload-form-table'>#}
    {#            <tr>#}
    {#                <td class='file_label_td'>#}
    {#                    <label class='file_label' for="id_contigs">Contigs</label>#}
    {#                </td>#}
    {#                <td class='file_input_td'>#}
    {#                    <input type="file" class="droparea" name="contigs" id="id_contigs"/>#}
    {#                </td>#}
    {#            </tr>#}
    {#            <tr>#}
    {#                <td class='file_label_td'><label class='file_label' for="id_reference">Reference</label></td>#}
    {#                <td class='file_input_td'><input class='file_input' type="file" name="reference" id="id_reference" /></td>#}
    {#            </tr>#}
    {#            <tr>#}
    {#                <td class='file_label_td'><label class='file_label' for="id_genes">Genes</label></td>#}
    {#                <td class='file_input_td'><input class='file_input' type="file" name="genes" id="id_genes" /></td>#}
    {#            </tr>#}
    {#            <tr>#}
    {#                <td class='file_label_td'><label class='file_label' for="id_operons">Operons</label></td>#}
    {#                <td class='file_input_td'><input class='file_input' type="file" name="operons" id="id_operons" /></td>#}
    {##}
    {#            </tr>#}
    {#        </table>#}
    {#        <input class="btn" type="submit" value="Load and assess quality" style="margin-top: 5px;"/>#}
    {##}
    {#        <p>#}
    {#            <label for='id_contigs'>Contigs</label> <input >#}
    {#        </p>#}
    {##}
    {#        <p>Contigs</p>#}
    {#        <input id="contigs-file" type="file" class="file-input" name="contigs">#}
    {#        <p>Reference</p>#}
    {#        <input id="reference-file" type="file" class="file-input" name="reference">#}
    {#        <p>Genes</p>#}
    {#        <input id="genes-file" type="file" class="file-input" name="genes">#}
    {#        <p>Operons</p>#}
    {#        <input id="operons-file" type="file" class="file-input" name="operons">#}
    {##}
    {#    </form>#}
{% endblock %}